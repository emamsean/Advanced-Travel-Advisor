<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Travel Advisor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }
    header {
      background-color: #003366;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    main {
      max-width: 900px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    select {
      font-size: 1rem;
      padding: 0.5rem;
      margin-top: 1rem;
      width: 100%;
    }
    button {
      font-size: 1rem;
      padding: 0.5rem 1rem;
      margin: 0.5rem 0.2rem;
      flex-grow: 1;
    }
    .guide {
      margin-top: 2rem;
    }
    .guide h2 {
      background-color: #003366;
      color: white;
      padding: 0.5rem;
    }
    .guide section {
      padding: 1rem 0;
      border-bottom: 1px solid #ccc;
    }
    .guide strong {
      display: block;
      margin-top: 0.5rem;
    }
    .group-toggle {
      margin-top: 1rem;
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    li {
      margin-bottom: 0.6em;
    }
    @media (max-width: 600px) {
      button {
        font-size: 0.9rem;
        padding: 0.4rem 0.8rem;
      }
      .guide {
        font-size: 0.95rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Travel Advisor</h1>
    <p>Select a city to view your travel guide.</p>
  </header>
  <main>
    <label for="cityPicker">Choose a city:</label>
    <select id="cityPicker">
      <option value="">--Select a City--</option>
      <option value="seoul">Seoul</option>
      <option value="shanghai">Shanghai</option>
      <option value="hongkong">Hong Kong</option>
    </select>

    <div class="group-toggle">
      <button onclick="showView('standard')">Sorted by Distance</button>
      <button onclick="showView('grouped')">Grouped by Activity</button>
      <button onclick="showView('distanceGroups')">Grouped by Distance</button>
    </div>

    <div class="guide" id="guideContainer"></div>
  </main>
  <script>
    const recommendations = {
      seoul: {
        hotel: "Westin Josun Seoul (City Hall)",
        places: [
          { name: "Incheon International Airport to Hotel", category: "Transport", distance: 60.0, travelTime: 60, walk: null, metro: "From Incheon Airport Terminal 1, take the AREX Express Train to Seoul Station, non-stop. Transfer to Line 1 toward Soyosan to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Fastest metro route from the airport to the hotel with luggage storage and free WiFi.", cluster: "Airport Transfer", mustDo: false },
          { name: "Hotel to Incheon International Airport", category: "Transport", distance: 60.0, travelTime: 60, walk: null, metro: "From Westin Josun Seoul, walk 3–5 minutes to City Hall Station. Take Line 1 toward Incheon to Seoul Station, 2 stops. Transfer to AREX Express Train to Incheon Airport Terminal 1, non-stop.", description: "Fastest metro route from the hotel to the airport with luggage storage and free WiFi.", cluster: "Airport Transfer", mustDo: false },
          { name: "Myeongdong Shopping Street", category: "Shop", distance: 0.8, travelTime: 8, walk: "8 mins", metro: null, description: "A bustling area for K-beauty, food, and fashion.", cluster: "Myeongdong", mustDo: false },
          { name: "Lotte Department Store (Myeongdong)", category: "Shop", distance: 0.9, travelTime: 9, walk: "9 mins", metro: null, description: "Major department store with beauty, fashion, and a great food hall.", cluster: "Myeongdong", mustDo: false },
          { name: "Olive Young (Myeongdong)", category: "Shop", distance: 0.8, travelTime: 8, walk: "8 mins", metro: null, description: "Top health and beauty chain for K-beauty products and sheet masks.", cluster: "Myeongdong", mustDo: false },
          { name: "Myeongdong Kyoja", category: "Eat", distance: 0.9, travelTime: 9, walk: "9 mins", metro: null, description: "Popular spot for knife-cut noodles (kalguksu) and dumplings (mandu).", cluster: "Myeongdong", mustDo: true },
          { name: "Softree", category: "Eat", distance: 0.8, travelTime: 8, walk: "8 mins", metro: null, description: "Famous milk soft serve topped with honeycomb.", cluster: "Myeongdong", mustDo: false },
          { name: "LINE/Kakao Friends Store (Myeongdong)", category: "Shop", distance: 0.8, travelTime: 8, walk: "8 mins", metro: null, description: "Gift shop with local character merchandise.", cluster: "Myeongdong", mustDo: false },
          { name: "Nanta Show", category: "Entertainment", distance: 0.9, travelTime: 9, walk: "9 mins", metro: null, description: "Non-verbal comedy performance with drumming and kitchen percussion.", cluster: "Myeongdong", mustDo: false },
          { name: "Insadong Street", category: "See", distance: 1.5, travelTime: 15, walk: null, metro: "<strong>To</strong> Insadong Street: From City Hall Station, take Line 1 toward Dongdaemun to Jonggak Station, 1 stop.\n<strong>From</strong> Insadong Street: From Jonggak Station, take Line 1 toward Incheon to City Hall Station, 1 stop. Walk 3–5 minutes to Westin Josun Seoul.", description: "Cultural hub with traditional teahouses and art galleries.", cluster: "Gyeongbokgung/Bukchon", mustDo: false },
          { name: "Gyeongbokgung Palace", category: "See", distance: 1.5, travelTime: 15, walk: null, metro: "<strong>To</strong> Gyeongbokgung Palace: From City Hall Station, take Line 3 toward Daehwa to Gyeongbokgung Station, 2 stops.\n<strong>From</strong> Gyeongbokgung Palace: From Gyeongbokgung Station, take Line 3 toward Ogeum to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Main royal palace with guard ceremony and hanbok rental.", cluster: "Gyeongbokgung/Bukchon", mustDo: true },
          { name: "Tosokchon Samgyetang", category: "Eat", distance: 1.8, travelTime: 18, walk: null, metro: "<strong>To</strong> Tosokchon Samgyetang: From City Hall Station, take Line 3 toward Daehwa to Gyeongbokgung Station, 2 stops.\n<strong>From</strong> Tosokchon Samgyetang: From Gyeongbokgung Station, take Line 3 toward Ogeum to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Famous for rich ginseng chicken soup.", cluster: "Gyeongbokgung/Bukchon", mustDo: false },
          { name: "Bukchon Hanok Village", category: "See", distance: 2.0, travelTime: 20, walk: null, metro: "<strong>To</strong> Bukchon Hanok Village: From City Hall Station, take Line 3 toward Daehwa to Anguk Station, 3 stops.\n<strong>From</strong> Bukchon Hanok Village: From Anguk Station, take Line 3 toward Ogeum to City Hall Station, 3 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Neighborhood of preserved traditional Korean homes.", cluster: "Gyeongbokgung/Bukchon", mustDo: false },
          { name: "Royal Guard Ceremony", category: "Entertainment", distance: 1.5, travelTime: 15, walk: null, metro: "<strong>To</strong> Royal Guard Ceremony: From City Hall Station, take Line 3 toward Daehwa to Gyeongbokgung Station, 2 stops.\n<strong>From</strong> Royal Guard Ceremony: From Gyeongbokgung Station, take Line 3 toward Ogeum to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Historic reenactment at Gyeongbokgung Palace.", cluster: "Gyeongbokgung/Bukchon", mustDo: false },
          { name: "Leeum, Samsung Museum of Art", category: "See", distance: 4.5, travelTime: 25, walk: null, metro: "<strong>To</strong> Leeum, Samsung Museum of Art: From City Hall Station, take Line 2 toward Seongsu to Itaewon Station, 4 stops.\n<strong>From</strong> Leeum, Samsung Museum of Art: From Itaewon Station, take Line 6 toward Eungam to Hangangjin Station, 1 stop, then walk 5–7 minutes. Alternatively, take Line 6 toward Sinnae to Itaewon Station, 1 stop, then Line 2 toward City Hall to City Hall Station, 4 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Breathtaking blend of Korean traditional and cutting-edge contemporary art in world-class architecture by Ando, Nouvel, and Koolhaas.", cluster: "Itaewon", mustDo: true },
          { name: "Gwangjang Market", category: "Eat", distance: 2.5, travelTime: 18, walk: null, metro: "<strong>To</strong> Gwangjang Market: From City Hall Station, take Line 1 toward Dongdaemun to Jongno 5-ga Station, 2 stops.\n<strong>From</strong> Gwangjang Market: From Jongno 5-ga Station, take Line 1 toward Incheon to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Bustling market with street food like bindaetteok and gimbap.", cluster: "Dongdaemun", mustDo: false },
          { name: "Dongdaemun Design Plaza (DDP)", category: "See", distance: 3.5, travelTime: 22, walk: null, metro: "<strong>To</strong> Dongdaemun Design Plaza: From City Hall Station, take Line 4 toward Oido to Dongdaemun History & Culture Park Station, 3 stops.\n<strong>From</strong> Dongdaemun Design Plaza: From Dongdaemun History & Culture Park Station, take Line 4 toward Danggogae to City Hall Station, 3 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Futuristic landmark designed by Zaha Hadid.", cluster: "Dongdaemun", mustDo: false },
          { name: "Doota Mall", category: "Shop", distance: 3.5, travelTime: 22, walk: null, metro: "<strong>To</strong> Doota Mall: From City Hall Station, take Line 4 toward Oido to Dongdaemun Station, 3 stops.\n<strong>From</strong> Doota Mall: From Dongdaemun Station, take Line 4 toward Danggogae to City Hall Station, 3 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Popular mall for trendy Korean fashion.", cluster: "Dongdaemun", mustDo: false },
          { name: "K-Pop Hologram Concert at K-Live", category: "Entertainment", distance: 3.5, travelTime: 22, walk: null, metro: "<strong>To</strong> K-Pop Hologram Concert at K-Live: From City Hall Station, take Line 4 toward Oido to Dongdaemun Station, 3 stops.\n<strong>From</strong> K-Pop Hologram Concert at K-Live: From Dongdaemun Station, take Line 4 toward Danggogae to City Hall Station, 3 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Immersive virtual K-pop performances in Lotte FITIN.", cluster: "Dongdaemun", mustDo: false },
          { name: "Maple Tree House", category: "Eat", distance: 2.5, travelTime: 18, walk: null, metro: "<strong>To</strong> Maple Tree House: From City Hall Station, take Line 2 toward Seongsu to Euljiro 3-ga Station, 2 stops.\n<strong>From</strong> Maple Tree House: From Euljiro 3-ga Station, take Line 2 toward City Hall to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Classic Korean BBQ experience.", cluster: "Euljiro", mustDo: false },
          { name: "N Seoul Tower", category: "See", distance: 3.0, travelTime: 25, walk: null, metro: "<strong>To</strong> N Seoul Tower: From City Hall Station, take Line 4 toward Oido to Myeong-dong Station, 2 stops, then cable car.\n<strong>From</strong> N Seoul Tower: From Myeong-dong Station, take Line 4 toward Danggogae to City Hall Station, 2 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Panoramic city views via cable car.", cluster: "Namsan", mustDo: true },
          { name: "Han River Cruise", category: "Do", distance: 4.0, travelTime: 25, walk: null, metro: "<strong>To</strong> Han River Cruise: From City Hall Station, take Line 5 toward Macheon to Yeouido Station, 3 stops.\n<strong>From</strong> Han River Cruise: From Yeouido Station, take Line 5 toward Banghwa to City Hall Station, 3 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Relaxing boat ride with stunning skyline views.", cluster: "Yeouido", mustDo: false },
          { name: "Hongdae Street Food", category: "Eat", distance: 5.0, travelTime: 30, walk: null, metro: "<strong>To</strong> Hongdae Street Food: From City Hall Station, take Line 2 toward Sinchon to Hongik University Station, 5 stops.\n<strong>From</strong> Hongdae Street Food: From Hongik University Station, take Line 2 toward City Hall to City Hall Station, 5 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Vibrant area with unique street food like tteokbokki.", cluster: "Hongdae", mustDo: true },
          { name: "Common Ground", category: "Shop", distance: 7.0, travelTime: 35, walk: null, metro: "<strong>To</strong> Common Ground: From City Hall Station, take Line 2 toward Seongsu to Konkuk University Station, 7 stops.\n<strong>From</strong> Common Ground: From Konkuk University Station, take Line 2 toward City Hall to City Hall Station, 7 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Trendy pop-up container mall for fashion and accessories.", cluster: "Konkuk", mustDo: false },
          { name: "Starfield COEX Mall", category: "Shop", distance: 8.0, travelTime: 40, walk: null, metro: "<strong>To</strong> Starfield COEX Mall: From City Hall Station, take Line 2 toward Seongsu to Samseong Station, 8 stops.\n<strong>From</strong> Starfield COEX Mall: From Samseong Station, take Line 2 toward City Hall to City Hall Station, 8 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Massive underground mall with Starfield Library.", cluster: "Gangnam", mustDo: false },
          { name: "Toys 'R' Us (Starfield COEX Mall)", category: "Shop", distance: 8.0, travelTime: 40, walk: null, metro: "<strong>To</strong> Toys 'R' Us: From City Hall Station, take Line 2 toward Seongsu to Samseong Station, 8 stops.\n<strong>From</strong> Toys 'R' Us: From Samseong Station, take Line 2 toward City Hall to City Hall Station, 8 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Seoul’s largest toy store within Starfield COEX Mall, offering LEGO, action figures, and educational toys for kids and collectors.", cluster: "Gangnam", mustDo: false },
          { name: "Techno Mart", category: "Shop", distance: 9.0, travelTime: 45, walk: null, metro: "<strong>To</strong> Techno Mart: From City Hall Station, take Line 2 toward Jamsil to Sindorim Station, 9 stops.\n<strong>From</strong> Techno Mart: From Sindorim Station, take Line 2 toward City Hall to City Hall Station, 9 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Wide selection of affordable tech gadgets.", cluster: "Sindorim", mustDo: false },
          { name: "Yongsan Electronics Market", category: "Shop", distance: 5.0, travelTime: 30, walk: null, metro: "<strong>To</strong> Yongsan Electronics Market: From City Hall Station, take Line 1 toward Incheon to Yongsan Station, 4 stops.\n<strong>From</strong> Yongsan Electronics Market: From Yongsan Station, take Line 1 toward Soyosan to City Hall Station, 4 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Large market for tech gadgets and accessories.", cluster: "Yongsan", mustDo: true },
          { name: "National Gugak Center", category: "Entertainment", distance: 10.0, travelTime: 50, walk: null, metro: "<strong>To</strong> National Gugak Center: From City Hall Station, take Line 2 toward Sadang to Gangnam Station, 10 stops.\n<strong>From</strong> National Gugak Center: From Gangnam Station, take Line 2 toward City Hall to City Hall Station, 10 stops. Walk 3–5 minutes to Westin Josun Seoul.", description: "Performances of traditional Korean music and dance.", cluster: "Gangnam", mustDo: false }
        ]
      },
      shanghai: {
        hotel: "The Ritz-Carlton Shanghai, Pudong (Lujiazui)",
        places: [
          { name: "Pudong International Airport to Hotel", category: "Transport", distance: 45.0, travelTime: 55, walk: null, metro: "From Pudong International Airport Station, take Metro Line 2 toward Xujing to Lujiazui Station, 8 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Direct metro route from the airport to the hotel, affordable and convenient.", cluster: "Airport Transfer", mustDo: false },
          { name: "Hotel to Pudong International Airport", category: "Transport", distance: 45.0, travelTime: 55, walk: null, metro: "From The Ritz-Carlton Shanghai, Pudong, walk 3–5 minutes to Lujiazui Station. Take Metro Line 2 toward Pudong International Airport to PVG Station, 8 stops.", description: "Direct metro route from the hotel to the airport, affordable and convenient.", cluster: "Airport Transfer", mustDo: false },
          { name: "Pudong International Airport to Hotel (Maglev)", category: "Transport", distance: 45.0, travelTime: 25, walk: null, metro: "From Pudong International Airport Station, take the Maglev train to Longyang Road Station, non-stop. Transfer to Metro Line 2 toward Xujing to Lujiazui Station, 2 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Fastest train route from the airport to the hotel via the high-speed Maglev.", cluster: "Airport Transfer", mustDo: false },
          { name: "Hotel to Pudong International Airport (Maglev)", category: "Transport", distance: 45.0, travelTime: 25, walk: null, metro: "From The Ritz-Carlton Shanghai, Pudong, walk 3–5 minutes to Lujiazui Station. Take Metro Line 2 toward Guanglan Road to Longyang Road Station, 2 stops. Transfer to the Maglev train to Pudong International Airport Station, non-stop.", description: "Fastest train route from the hotel to the airport via the high-speed Maglev.", cluster: "Airport Transfer", mustDo: false },
          { name: "The Bund", category: "See", distance: 0.5, travelTime: 5, walk: "5 mins", metro: null, description: "Iconic waterfront with colonial architecture and skyline views.", cluster: "Lujiazui", mustDo: true },
          { name: "IFC Mall", category: "Shop", distance: 0.6, travelTime: 6, walk: "6 mins", metro: null, description: "Luxury mall with upscale brands and Pudong skyline views.", cluster: "Lujiazui", mustDo: false },
          { name: "Hamleys (Lujiazui)", category: "Shop", distance: 0.6, travelTime: 6, walk: "6 mins", metro: null, description: "Shanghai’s largest toy store, a massive Hamleys with interactive play areas, LEGO, dolls, and educational toys for all ages.", cluster: "Lujiazui", mustDo: false },
          { name: "Super Brand Mall", category: "Shop", distance: 0.7, travelTime: 7, walk: "7 mins", metro: null, description: "Family-friendly mega-mall with stores and entertainment.", cluster: "Lujiazui", mustDo: false },
          { name: "Shanghai Tower", category: "See", distance: 0.8, travelTime: 8, walk: "8 mins", metro: null, description: "Observation deck with sky-high views from China's tallest building.", cluster: "Lujiazui", mustDo: true },
          { name: "Din Tai Fung", category: "Eat", distance: 0.7, travelTime: 7, walk: "7 mins", metro: null, description: "High-quality xiaolongbao and Taiwanese-style dishes.", cluster: "Lujiazui", mustDo: true },
          { name: "Hai Di Lao", category: "Eat", distance: 0.7, travelTime: 7, walk: "7 mins", metro: null, description: "Popular hot pot with tech-enabled ordering and DIY sauce bars.", cluster: "Lujiazui", mustDo: false },
          { name: "Shanghai Museum", category: "See", distance: 2.5, travelTime: 18, walk: null, metro: "<strong>To</strong> Shanghai Museum: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops. Walk 5–7 minutes to Shanghai Museum.\n<strong>From</strong> Shanghai Museum: Walk 5–7 minutes to People's Square Station, then take Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "China's premier collection of ancient Chinese bronzes, ceramics, calligraphy, and painting. Impeccably curated and free.", cluster: "Nanjing Road", mustDo: true },
          { name: "Yang’s Dumpling", category: "Eat", distance: 3.0, travelTime: 20, walk: null, metro: "<strong>To</strong> Yang’s Dumpling: From Lujiazui Station, take Line 2 toward Xujing to East Nanjing Rd Station, 2 stops.\n<strong>From</strong> Yang’s Dumpling: From East Nanjing Rd Station, take Line 2 toward Guanglan Road to Lujiazui Station, 2 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Famous for crispy shengjianbao (pan-fried dumplings).", cluster: "Nanjing Road", mustDo: true },
          { name: "Nanjing Road", category: "Shop", distance: 2.5, travelTime: 18, walk: null, metro: "<strong>To</strong> Nanjing Road: From Lujiazui Station, take Line 2 toward Xujing to East Nanjing Rd Station, 2 stops.\n<strong>From</strong> Nanjing Road: From East Nanjing Rd Station, take Line 2 toward Guanglan Road to Lujiazui Station, 2 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Lively historic shopping street for people-watching.", cluster: "Nanjing Road", mustDo: false },
          { name: "Jia Jia Tang Bao", category: "Eat", distance: 3.5, travelTime: 22, walk: null, metro: "<strong>To</strong> Jia Jia Tang Bao: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 1 toward Fujin Road to Xinzha Rd Station, 1 stop.\n<strong>From</strong> Jia Jia Tang Bao: From Xinzha Rd Station, take Line 1 toward Xinzhuang to People's Square Station, 1 stop, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Rustic favorite for authentic soup dumplings (xiaolongbao).", cluster: "Nanjing Road", mustDo: false },
          { name: "AP Xinyang Fashion & Gifts Market", category: "Shop", distance: 3.5, travelTime: 22, walk: null, metro: "<strong>To</strong> AP Xinyang Fashion & Gifts Market: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops.\n<strong>From</strong> AP Xinyang Fashion & Gifts Market: From People's Square Station, take Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Underground market for affordable local crafts and souvenirs.", cluster: "Nanjing Road", mustDo: false },
          { name: "Yuyuan Bazaar", category: "Eat", distance: 4.0, travelTime: 25, walk: null, metro: "<strong>To</strong> Yuyuan Bazaar: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then transfer to Line 10 toward Hongqiao Railway Station to Yuyuan Garden Station, 2 stops. Alternatively, take Line 14 toward Fengbang to Yuyuan Garden Station, 1 stop.\n<strong>From</strong> Yuyuan Bazaar: From Yuyuan Garden Station, take Line 10 toward Xinjiangwancheng to People's Square Station, 2 stops, then transfer to Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Alternatively, take Line 14 toward Jinqiao to Lujiazui Station, 1 stop. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Street food like shengjianbao and crab shell pastries.", cluster: "Yuyuan", mustDo: false },
          { name: "Yu Garden", category: "See", distance: 4.0, travelTime: 25, walk: null, metro: "<strong>To</strong> Yu Garden: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then transfer to Line 10 toward Hongqiao Railway Station to Yuyuan Garden Station, 2 stops. Alternatively, take Line 14 toward Fengbang to Yuyuan Garden Station, 1 stop.\n<strong>From</strong> Yu Garden: From Yuyuan Garden Station, take Line 10 toward Xinjiangwancheng to People's Square Station, 2 stops, then transfer to Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Alternatively, take Line 14 toward Jinqiao to Lujiazui Station, 1 stop. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Classical Chinese gardens with traditional shops.", cluster: "Yuyuan", mustDo: true },
          { name: "Kunqu Opera", category: "Entertainment", distance: 4.0, travelTime: 25, walk: null, metro: "<strong>To</strong> Kunqu Opera: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then transfer to Line 10 toward Hongqiao Railway Station to Yuyuan Garden Station, 2 stops. Alternatively, take Line 14 toward Fengbang to Yuyuan Garden Station, 1 stop.\n<strong>From</strong> Kunqu Opera: From Yuyuan Garden Station, take Line 10 toward Xinjiangwancheng to People's Square Station, 2 stops, then transfer to Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Alternatively, take Line 14 toward Jinqiao to Lujiazui Station, 1 stop. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Historic Chinese opera at Yuyuan Bazaar.", cluster: "Yuyuan", mustDo: false },
          { name: "Tianzifang", category: "Shop", distance: 5.0, travelTime: 30, walk: null, metro: "<strong>To</strong> Tianzifang: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 9 toward Songjiang South to Dapuqiao Station, 2 stops.\n<strong>From</strong> Tianzifang: From Dapuqiao Station, take Line 9 toward Caolu to People's Square Station, 2 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Charming lanes with indie shops and cafés.", cluster: "Xintiandi/Tianzifang", mustDo: false },
          { name: "Xintiandi", category: "Shop", distance: 4.5, travelTime: 28, walk: null, metro: "<strong>To</strong> Xintiandi: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 1 toward Xinzhuang to South Huangpi Rd Station, 2 stops.\n<strong>From</strong> Xintiandi: From South Huangpi Rd Station, take Line 1 toward Fujin Road to People's Square Station, 2 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Historic lanes with art galleries and boutiques.", cluster: "Xintiandi/Tianzifang", mustDo: false },
          { name: "Old Jesse", category: "Eat", distance: 5.0, travelTime: 30, walk: null, metro: "<strong>To</strong> Old Jesse: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 9 toward Songjiang South to Dapuqiao Station, 2 stops.\n<strong>From</strong> Old Jesse: From Dapuqiao Station, take Line 9 toward Caolu to People's Square Station, 2 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Classic Shanghainese cuisine with red-braised pork.", cluster: "Xintiandi/Tianzifang", mustDo: false },
          { name: "South Bund Fabric Market", category: "Shop", distance: 4.5, travelTime: 28, walk: null, metro: "<strong>To</strong> South Bund Fabric Market: From Lujiazui Station, take Line 2 toward Xujing to Lujiabang Rd Station, 4 stops, then Line 4 toward Yishan Road to Nanpu Bridge Station, 1 stop.\n<strong>From</strong> South Bund Fabric Market: From Nanpu Bridge Station, take Line 4 toward Hongqiao Railway Station to Lujiabang Rd Station, 1 stop, then Line 2 toward Guanglan Road to Lujiazui Station, 4 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Custom silk and cashmere scarves and tailoring.", cluster: "South Bund", mustDo: false },
          { name: "M50 Art District", category: "Do", distance: 7.0, travelTime: 35, walk: null, metro: "<strong>To</strong> M50 Art District: From Lujiazui Station, take Line 2 toward Xujing to Zhongshan Park Station, 6 stops, then Line 13 toward Jinyun Road to Jiangning Rd Station, 2 stops.\n<strong>From</strong> M50 Art District: From Jiangning Rd Station, take Line 13 toward Zhangjiang Road to Zhongshan Park Station, 2 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 6 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Creative hub with contemporary art galleries and street art.", cluster: "M50", mustDo: false },
          { name: "IAPM Mall", category: "Shop", distance: 6.0, travelTime: 32, walk: null, metro: "<strong>To</strong> IAPM Mall: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 1 toward Xinzhuang to Shanxi South Rd Station, 3 stops.\n<strong>From</strong> IAPM Mall: From Shanxi South Rd Station, take Line 1 toward Fujin Road to People's Square Station, 3 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Trendy modern mall open late.", cluster: "Huaihai Road", mustDo: false },
          { name: "Tianshan Tea City", category: "Shop", distance: 10.0, travelTime: 40, walk: null, metro: "<strong>To</strong> Tianshan Tea City: From Lujiazui Station, take Line 2 toward Xujing to Loushanguan Rd Station, 7 stops.\n<strong>From</strong> Tianshan Tea City: From Loushanguan Rd Station, take Line 2 toward Guanglan Road to Lujiazui Station, 7 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "High-quality teas like Longjing and Pu'er.", cluster: "Hongqiao", mustDo: false },
          { name: "ERA Acrobats", category: "Entertainment", distance: 8.0, travelTime: 35, walk: null, metro: "<strong>To</strong> ERA Acrobats: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 1 toward Fujin Road to Shanghai Circus World Station, 4 stops.\n<strong>From</strong> ERA Acrobats: From Shanghai Circus World Station, take Line 1 toward Xinzhuang to People's Square Station, 4 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Spectacular acrobatic show with multimedia elements.", cluster: "Circus World", mustDo: false },
          { name: "Acrobatic School Showcase", category: "Entertainment", distance: 8.0, travelTime: 35, walk: null, metro: "<strong>To</strong> Acrobatic School Showcase: From Lujiazui Station, take Line 2 toward Xujing to People's Square Station, 3 stops, then Line 1 toward Fujin Road to Shanghai Circus World Station, 4 stops.\n<strong>From</strong> Acrobatic School Showcase: From Shanghai Circus World Station, take Line 1 toward Xinzhuang to People's Square Station, 4 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 3 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Thrilling stunts from up-and-coming acrobats.", cluster: "Circus World", mustDo: false },
          { name: "Shanghai Disneyland", category: "Entertainment", distance: 20.0, travelTime: 50, walk: null, metro: "<strong>To</strong> Shanghai Disneyland: From Lujiazui Station, take Line 2 toward Guanglan Road to Longyang Rd Station, 5 stops, then Line 11 toward Disney to Disney Station, 7 stops.\n<strong>From</strong> Shanghai Disneyland: From Disney Station, take Line 11 toward North Jiading to Longyang Rd Station, 7 stops, then Line 2 toward Xujing to Lujiazui Station, 5 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Theme park with unique China-exclusive attractions.", cluster: "Disneyland", mustDo: false },
          { name: "Zhujiajiao Water Town", category: "See", distance: 40.0, travelTime: 80, walk: null, metro: "<strong>To</strong> Zhujiajiao Water Town: From Lujiazui Station, take Line 2 toward Xujing to Hongqiao Railway Station, 9 stops, then Line 17 toward Oriental Land to Zhujiajiao Station, 6 stops.\n<strong>From</strong> Zhujiajiao Water Town: From Zhujiajiao Station, take Line 17 toward Hongqiao Railway Station to Hongqiao Railway Station, 6 stops, then Line 2 toward Guanglan Road to Lujiazui Station, 9 stops. Walk 3–5 minutes to The Ritz-Carlton Shanghai, Pudong.", description: "Picturesque ancient water town with canals and bridges.", cluster: "Zhujiajiao", mustDo: false }
        ]
      },
      hongkong: {
        hotel: "Grand Hyatt Hong Kong (Wan Chai)",
        places: [
          { name: "Hong Kong International Airport to Hotel", category: "Transport", distance: 40.0, travelTime: 40, walk: null, metro: "From Airport Station, take the Airport Express to Hong Kong Station, 2 stops. Walk to Central Station (5–8 minutes underground), then take the Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Fastest metro route from the airport to the hotel with luggage storage and WiFi.", cluster: "Airport Transfer", mustDo: false },
          { name: "Hotel to Hong Kong International Airport", category: "Transport", distance: 40.0, travelTime: 40, walk: null, metro: "From Grand Hyatt Hong Kong, walk 3–5 minutes to Wan Chai Station. Take the Island Line toward Kennedy Town to Central Station, 2 stops. Walk to Hong Kong Station (5–8 minutes underground), then take the Airport Express to Airport Station, 2 stops.", description: "Fastest metro route from the hotel to the airport with luggage storage and WiFi.", cluster: "Airport Transfer", mustDo: false },
          { name: "Sogo Department Store", category: "Shop", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Sogo Department Store: From Wan Chai Station, take Island Line toward Chai Wan to Causeway Bay Station, 1 stop.\n<strong>From</strong> Sogo Department Store: From Causeway Bay Station, take Island Line toward Kennedy Town to Wan Chai Station, 1 stop. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Japanese department store with HK fashion.", cluster: "Causeway Bay", mustDo: false },
          { name: "Kam's Roast Goose", category: "Eat", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Kam's Roast Goose: From Wan Chai Station, take Island Line toward Chai Wan to Causeway Bay Station, 1 stop.\n<strong>From</strong> Kam's Roast Goose: From Causeway Bay Station, take Island Line toward Kennedy Town to Wan Chai Station, 1 stop. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Iconic roast goose rice.", cluster: "Causeway Bay", mustDo: true },
          { name: "Mammy Pancake", category: "Eat", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Mammy Pancake: From Wan Chai Station, take Island Line toward Chai Wan to Causeway Bay Station, 1 stop.\n<strong>From</strong> Mammy Pancake: From Causeway Bay Station, take Island Line toward Kennedy Town to Wan Chai Station, 1 stop. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Crispy and fluffy egg waffles (gai daan zai).", cluster: "Causeway Bay", mustDo: false },
          { name: "G.O.D. (Goods of Desire)", category: "Shop", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> G.O.D.: From Wan Chai Station, take Island Line toward Chai Wan to Causeway Bay Station, 1 stop.\n<strong>From</strong> G.O.D.: From Causeway Bay Station, take Island Line toward Kennedy Town to Wan Chai Station, 1 stop. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Modern Hong Kong-themed gifts and decor.", cluster: "Causeway Bay", mustDo: false },
          { name: "Lan Fong Yuen", category: "Eat", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Lan Fong Yuen: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops.\n<strong>From</strong> Lan Fong Yuen: From Central Station, take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Iconic cha chaan teng for milk tea and crispy buns.", cluster: "Central", mustDo: false },
          { name: "Mak's Noodle", category: "Eat", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Mak's Noodle: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops.\n<strong>From</strong> Mak's Noodle: From Central Station, take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Traditional wonton noodles.", cluster: "Central", mustDo: false },
          { name: "Landmark", category: "Shop", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Landmark: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops.\n<strong>From</strong> Landmark: From Central Station, take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Luxury mall with elegant design.", cluster: "Central", mustDo: false },
          { name: "Hong Kong Observation Wheel", category: "Entertainment", distance: 1.5, travelTime: 12, walk: null, metro: "<strong>To</strong> Hong Kong Observation Wheel: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops.\n<strong>From</strong> Hong Kong Observation Wheel: From Central Station, take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Ferris wheel with panoramic Victoria Harbour views.", cluster: "Central", mustDo: false },
          { name: "K11 Musea", category: "Shop", distance: 2.0, travelTime: 15, walk: null, metro: "From Grand Hyatt Hong Kong, walk 8 minutes to Wan Chai Ferry Pier, then take the Star Ferry to Tsim Sha Tsui Pier, 8–10 minutes.", description: "Art-meets-retail mall and museum.", cluster: "Tsim Sha Tsui", mustDo: false },
          { name: "Toys 'R' Us (Harbour City)", category: "Shop", distance: 2.0, travelTime: 15, walk: null, metro: "From Grand Hyatt Hong Kong, walk 8 minutes to Wan Chai Ferry Pier, then take the Star Ferry to Tsim Sha Tsui Pier, 8–10 minutes.", description: "Hong Kong’s largest toy store with a vast selection of LEGO, Nerf, Barbie, and educational toys for all ages.", cluster: "Tsim Sha Tsui", mustDo: false },
          { name: "Star Ferry", category: "Do", distance: 2.0, travelTime: 15, walk: null, metro: "From Grand Hyatt Hong Kong, walk 8 minutes to Wan Chai Ferry Pier, then take the Star Ferry to Tsim Sha Tsui Pier, 8–10 minutes.", description: "Cheap and scenic way to cross Victoria Harbour.", cluster: "Tsim Sha Tsui", mustDo: true },
          { name: "Symphony of Lights", category: "Entertainment", distance: 2.0, travelTime: 15, walk: null, metro: "From Grand Hyatt Hong Kong, walk 8 minutes to Wan Chai Ferry Pier, then take the Star Ferry to Tsim Sha Tsui Pier, 8–10 minutes.", description: "Nightly harbor light show with soundtrack on FM/app.", cluster: "Tsim Sha Tsui", mustDo: false },
          { name: "Harbour City", category: "Shop", distance: 2.0, travelTime: 15, walk: null, metro: "From Grand Hyatt Hong Kong, walk 8 minutes to Wan Chai Ferry Pier, then take the Star Ferry to Tsim Sha Tsui Pier, 8–10 minutes.", description: "Massive mall with over 450 stores.", cluster: "Tsim Sha Tsui", mustDo: false },
          { name: "M+ Museum", category: "See", distance: 2.0, travelTime: 15, walk: null, metro: "From Grand Hyatt Hong Kong, walk 8 minutes to Wan Chai Ferry Pier, then take the Star Ferry to Tsim Sha Tsui Pier, 8–10 minutes.", description: "Asia’s first global museum of visual culture; architecture, design, film, and contemporary art in a stunning harborfront building.", cluster: "Tsim Sha Tsui", mustDo: true },
          { name: "PMQ (Police Married Quarters)", category: "Shop", distance: 2.0, travelTime: 15, walk: null, metro: "<strong>To</strong> PMQ: From Wan Chai Station, take Island Line toward Kennedy Town to Sheung Wan Station, 3 stops.\n<strong>From</strong> PMQ: From Sheung Wan Station, take Island Line toward Chai Wan to Wan Chai Station, 3 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Creative hub with local designer shops and artisanal goods.", cluster: "Sheung Wan", mustDo: false },
          { name: "Temple Street Night Market", category: "Shop/Eat", distance: 3.0, travelTime: 18, walk: null, metro: "<strong>To</strong> Temple Street Night Market: From Wan Chai Station, take Tsuen Wan Line toward Tsuen Wan to Jordan Station, 3 stops.\n<strong>From</strong> Temple Street Night Market: From Jordan Station, take Tsuen Wan Line toward Central to Wan Chai Station, 3 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Night market for local goods and street snacks.", cluster: "Jordan/Yau Ma Tei", mustDo: false },
          { name: "Australia Dairy Company", category: "Eat", distance: 3.0, travelTime: 18, walk: null, metro: "<strong>To</strong> Australia Dairy Company: From Wan Chai Station, take Tsuen Wan Line toward Tsuen Wan to Jordan Station, 3 stops.\n<strong>From</strong> Australia Dairy Company: From Jordan Station, take Tsuen Wan Line toward Central to Wan Chai Station, 3 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Classic HK diner with scrambled eggs and toast.", cluster: "Jordan/Yau Ma Tei", mustDo: false },
          { name: "Jade Market", category: "Shop", distance: 3.0, travelTime: 18, walk: null, metro: "<strong>To</strong> Jade Market: From Wan Chai Station, take Tsuen Wan Line toward Tsuen Wan to Yau Ma Tei Station, 4 stops.\n<strong>From</strong> Jade Market: From Yau Ma Tei Station, take Tsuen Wan Line toward Central to Wan Chai Station, 4 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Unique jade and gold jewelry.", cluster: "Jordan/Yau Ma Tei", mustDo: false },
          { name: "Tim Ho Wan", category: "Eat", distance: 5.0, travelTime: 25, walk: null, metro: "<strong>To</strong> Tim Ho Wan: From Wan Chai Station, take Tsuen Wan Line toward Tsuen Wan to Sham Shui Po Station, 5 stops.\n<strong>From</strong> Tim Ho Wan: From Sham Shui Po Station, take Tsuen Wan Line toward Central to Wan Chai Station, 5 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Michelin-star dim sum, affordable and delicious.", cluster: "Sham Shui Po", mustDo: true },
          { name: "Victoria Peak", category: "See", distance: 5.0, travelTime: 30, walk: null, metro: "<strong>To</strong> Victoria Peak: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops, then Peak Tram.\n<strong>From</strong> Victoria Peak: From Central Station, take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Panoramic views via the Peak Tram.", cluster: "Victoria Peak", mustDo: true },
          { name: "Dragon’s Back Hike", category: "Do", distance: 10.0, travelTime: 40, walk: null, metro: "<strong>To</strong> Dragon’s Back Hike: From Wan Chai Station, take Island Line toward Chai Wan to Shau Kei Wan Station, 4 stops, then bus to Dragon’s Back trailhead.\n<strong>From</strong> Dragon’s Back Hike: From Shau Kei Wan Station, take Island Line toward Kennedy Town to Wan Chai Station, 4 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Scenic trail with stunning coastal views.", cluster: "Shau Kei Wan", mustDo: false },
          { name: "Big Buddha (Tian Tan Buddha)", category: "See", distance: 30.0, travelTime: 70, walk: null, metro: "<strong>To</strong> Big Buddha: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops. Walk to Hong Kong Station (5–8 minutes underground), then take Tung Chung Line toward Tung Chung to Tung Chung Station, 6 stops. Take Ngong Ping 360 cable car to Big Buddha.\n<strong>From</strong> Big Buddha: From Big Buddha, take Ngong Ping 360 cable car to Tung Chung Station. Take Tung Chung Line toward Hong Kong to Hong Kong Station, 6 stops. Walk to Central Station (5–8 minutes underground), then take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Giant seated Buddha with scenic cable car ride.", cluster: "Lantau Island", mustDo: true },
          { name: "Citygate Outlets", category: "Shop", distance: 25.0, travelTime: 60, walk: null, metro: "<strong>To</strong> Citygate Outlets: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops. Walk to Hong Kong Station (5–8 minutes underground), then take Tung Chung Line toward Tung Chung to Tung Chung Station, 6 stops.\n<strong>From</strong> Citygate Outlets: From Tung Chung Station, take Tung Chung Line toward Hong Kong to Hong Kong Station, 6 stops. Walk to Central Station (5–8 minutes underground), then take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Discounted designer goods near the airport.", cluster: "Lantau Island", mustDo: false },
          { name: "Tai O Fishing Village", category: "See", distance: 30.0, travelTime: 75, walk: null, metro: "<strong>To</strong> Tai O Fishing Village: From Wan Chai Station, take Island Line toward Kennedy Town to Central Station, 2 stops. Walk to Hong Kong Station (5–8 minutes underground), then take Tung Chung Line toward Tung Chung to Tung Chung Station, 6 stops, then bus to Tai O.\n<strong>From</strong> Tai O Fishing Village: From Tai O, take bus to Tung Chung Station. Take Tung Chung Line toward Hong Kong to Hong Kong Station, 6 stops. Walk to Central Station (5–8 minutes underground), then take Island Line toward Chai Wan to Wan Chai Station, 2 stops. Walk 3–5 minutes to Grand Hyatt Hong Kong.", description: "Charming village with stilt houses and traditional life.", cluster: "Lantau Island", mustDo: false }
        ]
      }
    };

    let currentCity = "";

    function generateStandardView(city) {
      const places = recommendations[city].places.sort((a, b) => a.distance - b.distance);
      let html = `<h2>${city.charAt(0).toUpperCase() + city.slice(1)} - Sorted by Distance</h2><ul>`;
      places.forEach(place => {
        const mustDoMark = place.mustDo ? " ✅" : "";
        html += `<li><strong>${place.name}${mustDoMark} (${place.category})</strong><br>`;
        html += `${place.description}<br>`;
        html += `Distance: ${place.distance} km<br>`;
        html += `Time: ${place.travelTime} mins<br>`;
        html += place.walk ? `Walk: ${place.walk}<br>` : `Metro: ${place.metro.replace(/\n/g, '<br>')}<br>`;
        html += `</li>`;
      });
      html += `</ul>`;
      return html;
    }

    function generateGroupedView(city) {
      const categories = ["See", "Do", "Eat", "Shop", "Entertainment", "Transport"];
      let html = `<h2>${city.charAt(0).toUpperCase() + city.slice(1)} - Grouped by Activity</h2>`;
      categories.forEach(category => {
        const places = recommendations[city].places.filter(p => p.category.includes(category));
        if (places.length > 0) {
          html += `<section><h3>${category}</h3><ul>`;
          places.forEach(place => {
            const mustDoMark = place.mustDo ? " ✅" : "";
            html += `<li><strong>${place.name}${mustDoMark} (${place.distance} km, ${place.travelTime} mins):</strong> ${place.description}<br>`;
            html += place.walk ? `Walk: ${place.walk}<br>` : `Metro: ${place.metro.replace(/\n/g, '<br>')}<br>`;
            html += `</li>`;
          });
          html += `</ul></section>`;
        }
      });
      return html;
    }

    function generateDistanceGroupsView(city) {
      const clusters = {};
      recommendations[city].places.forEach(place => {
        if (!clusters[place.cluster]) {
          clusters[place.cluster] = [];
        }
        clusters[place.cluster].push(place);
      });

      let html = `<h2>${city.charAt(0).toUpperCase() + city.slice(1)} - Grouped by Distance</h2>`;
      for (const clusterName in clusters) {
        const places = clusters[clusterName].sort((a, b) => a.name.localeCompare(b.name));
        const centralPlace = places[0]; // Use first place for directions
        const direction = centralPlace.walk ? `Walk: ${centralPlace.walk}` : `Metro: ${centralPlace.metro.replace(/\n/g, '<br>')}`;
        html += `<section><h3>${clusterName} Cluster</h3>`;
        html += `<p><strong>Directions from ${recommendations[city].hotel}:</strong> ${direction}</p>`;
        html += `<ul>`;
        places.forEach(place => {
          const mustDoMark = place.mustDo ? " ✅" : "";
          html += `<li><strong>${place.name}${mustDoMark} (${place.category}, ${place.distance} km, ${place.travelTime} mins):</strong> ${place.description}<br>`;
          html += place.walk ? `Walk: ${place.walk}<br>` : `Metro: ${place.metro.replace(/\n/g, '<br>')}<br>`;
          html += `</li>`;
        });
        html += `</ul></section>`;
      }
      return html;
    }

    function showView(viewType) {
      if (!currentCity || !recommendations[currentCity]) {
        document.getElementById("guideContainer").innerHTML = "<p>Please select a city to view its guide.</p>";
        return;
      }
      let guide;
      if (viewType === "standard") {
        guide = generateStandardView(currentCity);
      } else if (viewType === "grouped") {
        guide = generateGroupedView(currentCity);
      } else if (viewType === "distanceGroups") {
        guide = generateDistanceGroupsView(currentCity);
      }
      document.getElementById("guideContainer").innerHTML = guide;
    }

    document.getElementById("cityPicker").addEventListener("change", function () {
      currentCity = this.value;
      showView("standard");
    });
  </script>
</body>
</html>
